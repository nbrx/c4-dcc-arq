@startuml
set separator none
title Broker - Message Broker - Components

left to right direction

!include <C4/C4>
!include <C4/C4_Context>
!include <C4/C4_Component>

System(SoftwareUPaper, "Software U-Paper", "Sistema gestión documentos de investigación científica", $tags="")
System(SoftwareUCampus, "Software U-Campus", "Sistema gestión docente", $tags="")
System(ClusterdeBasededatos, "Cluster de Base de datos", "", $tags="")

Container_Boundary("Broker.MessageBroker_boundary", "Message Broker", $tags="") {
  Component(Broker.MessageBroker.PublicadorUPaper, "Publicador U-Paper", "", $tags="")
  Component(Broker.MessageBroker.SubcriptorUCampus, "Subcriptor U-Campus", "", $tags="")
  Component(Broker.MessageBroker.SubcriptorUPaper, "Subcriptor U-Paper", "", $tags="")
  Component(Broker.MessageBroker.PublicadorUCampus, "Publicador U-Campus", "", $tags="")
}

Rel_D(Broker.MessageBroker.PublicadorUCampus, Broker.MessageBroker.SubcriptorUCampus, "subcribe replica estructura", $tags="")
Rel_D(Broker.MessageBroker.SubcriptorUCampus, ClusterdeBasededatos, "recibe replica estructura", $tags="")
Rel_D(Broker.MessageBroker.PublicadorUPaper, Broker.MessageBroker.SubcriptorUPaper, "subcribe replica papers", $tags="")
Rel_D(Broker.MessageBroker.SubcriptorUPaper, ClusterdeBasededatos, "recibe replica papers", $tags="")
Rel_D(SoftwareUCampus, Broker.MessageBroker.PublicadorUCampus, "replica estructura", $tags="")
Rel_D(SoftwareUPaper, Broker.MessageBroker.PublicadorUPaper, "replica papers", $tags="")

SHOW_LEGEND(true)
@enduml